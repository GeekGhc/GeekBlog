---
title: Redis分布式集群
date: 2019-03-02
categories:
  - Redis
tags:
    - redis
---
## 前言
`Redis`在**3.0**以后的版本支持了`Cluster` 那么我们首先会想到`Cluster`是解决怎样的应用场景

为了应对大流量访问下提供稳定的业务，集群化是存储的必然形态  之前的单点存储势必会有诸多隐患

而未来的发展趋势肯定是大数据和云计算的紧密集合 分布式架构也就可以很好的体现他的优势 

## 解决方案
目前的`Redis`的集群化方案有三种

- Twitter开发的twemproxy
- 豌豆荚开发的codis
- redis官方的redis-cluster

`redis-cluster`是三个里性能最强大的 因为他使用去中心化的思想 使用`hash slot`方式 将**16348**个`hash slot` 覆盖到所有节点上 

对于存储的每个`key`值 使用`CRC16(KEY)&16348=slot` 得到他对应的`hash slot` 并在访问`key`时就去找他的`hash slot`在哪一个节点上 

然后由当前访问节点从实际被分配了这个`hash slot`的节点去取数据 节点之间使用轻量协议通信 减少带宽占用 性能很高 自动实现负载均衡与高可用 自动实现`failover`  并且支持动态扩展 官方已经玩到可以**1000**个节点 实现的复杂度低  因为他的去中心化思想免去了`proxy`的消耗 是全新的思路